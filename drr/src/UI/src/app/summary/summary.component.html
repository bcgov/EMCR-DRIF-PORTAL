<div class="summary-container" *transloco="let t">
  <div
    class="summary-item"
    *ngIf="eoiApplicationForm.get('proponentInformation')?.get('proponentType')"
  >
    <mat-label class="drr-label">{{ t("proponentType") }}</mat-label>
    <mat-label>{{
      t(
        eoiApplicationForm.get("proponentInformation")?.get("proponentType")
          ?.value
      )
    }}</mat-label>
  </div>
  <div
    class="summary-item"
    *ngIf="eoiApplicationForm.get('proponentInformation')?.get('proponentName')"
  >
    <mat-label class="drr-label">{{ t("proponentName") }}</mat-label>
    <mat-label>{{
      eoiApplicationForm.get("proponentInformation")?.get("proponentName")
        ?.value
    }}</mat-label>
  </div>

  <div
    *ngIf="
      objectHasValues(
        eoiApplicationForm.get('proponentInformation')?.get('submitter')
      )
    "
  >
    <mat-label class="drr-label">{{
      t("submitterContactInformation")
    }}</mat-label>
    <div class="summary-row">
      <div class="summary-item">
        <mat-label class="drr-label">{{ t("firstName") }}</mat-label>
        <mat-label>{{
          eoiApplicationForm
            .get("proponentInformation")
            ?.get("submitter")
            ?.get("firstName")?.value
        }}</mat-label>
      </div>

      <div class="summary-item">
        <mat-label class="drr-label">{{ t("lastName") }}</mat-label>
        <mat-label>{{
          eoiApplicationForm
            .get("proponentInformation")
            ?.get("submitter")
            ?.get("lastName")?.value
        }}</mat-label>
      </div>

      <div class="summary-item">
        <mat-label class="drr-label">{{ t("title") }}</mat-label>
        <mat-label>{{
          eoiApplicationForm
            .get("proponentInformation")
            ?.get("submitter")
            ?.get("title")?.value
        }}</mat-label>
      </div>

      <div class="summary-item">
        <mat-label class="drr-label">{{ t("department") }}</mat-label>
        <mat-label>{{
          eoiApplicationForm
            .get("proponentInformation")
            ?.get("submitter")
            ?.get("department")?.value
        }}</mat-label>
      </div>

      <div class="summary-item">
        <mat-label class="drr-label">{{ t("phone") }}</mat-label>
        <mat-label>{{
          eoiApplicationForm
            .get("proponentInformation")
            ?.get("submitter")
            ?.get("phone")?.value | mask : "000-000-0000"
        }}</mat-label>
      </div>

      <div class="summary-item">
        <mat-label class="drr-label">{{ t("email") }}</mat-label>
        <mat-label>{{
          eoiApplicationForm
            .get("proponentInformation")
            ?.get("submitter")
            ?.get("email")?.value
        }}</mat-label>
      </div>
    </div>
  </div>

  <div
    *ngIf="
      objectHasValues(
        eoiApplicationForm.get('proponentInformation')?.get('projectContact')
      )
    "
  >
    <mat-label class="drr-label">{{
      t("projectContactInformation")
    }}</mat-label>
    <div class="summary-row">
      <div class="summary-item">
        <mat-label class="drr-label">{{ t("firstName") }}</mat-label>
        <mat-label>{{
          eoiApplicationForm
            .get("proponentInformation")
            ?.get("projectContact")
            ?.get("firstName")?.value
        }}</mat-label>
      </div>

      <div class="summary-item">
        <mat-label class="drr-label">{{ t("lastName") }}</mat-label>
        <mat-label>{{
          eoiApplicationForm
            .get("proponentInformation")
            ?.get("projectContact")
            ?.get("lastName")?.value
        }}</mat-label>
      </div>

      <div class="summary-item">
        <mat-label class="drr-label">{{ t("title") }}</mat-label>
        <mat-label>{{
          eoiApplicationForm
            .get("proponentInformation")
            ?.get("projectContact")
            ?.get("title")?.value
        }}</mat-label>
      </div>

      <div class="summary-item">
        <mat-label class="drr-label">{{ t("department") }}</mat-label>
        <mat-label>{{
          eoiApplicationForm
            .get("proponentInformation")
            ?.get("projectContact")
            ?.get("department")?.value
        }}</mat-label>
      </div>

      <div class="summary-item">
        <mat-label class="drr-label">{{ t("phone") }}</mat-label>
        <mat-label>{{
          eoiApplicationForm
            .get("proponentInformation")
            ?.get("projectContact")
            ?.get("phone")?.value | mask : "000-000-0000"
        }}</mat-label>
      </div>

      <div class="summary-item">
        <mat-label class="drr-label">{{ t("email") }}</mat-label>
        <mat-label>{{
          eoiApplicationForm
            .get("proponentInformation")
            ?.get("projectContact")
            ?.get("email")?.value
        }}</mat-label>
      </div>
    </div>
  </div>

  <div>
    <mat-label class="drr-label">{{ t("additionalContacts") }}</mat-label>
    <div
      class="summary-row"
      *ngFor="
        let additionalContact of getFormArray(
          'proponentInformation',
          'additionalContacts'
        )
      "
    >
      <div class="summary-item">
        <mat-label class="drr-label">{{ t("firstName") }}</mat-label>
        <mat-label>{{ additionalContact?.firstName }}</mat-label>
      </div>

      <div class="summary-item">
        <mat-label class="drr-label">{{ t("lastName") }}</mat-label>
        <mat-label>{{ additionalContact?.lastName }}</mat-label>
      </div>

      <div class="summary-item">
        <mat-label class="drr-label">{{ t("title") }}</mat-label>
        <mat-label>{{ additionalContact?.title }}</mat-label>
      </div>

      <div class="summary-item">
        <mat-label class="drr-label">{{ t("department") }}</mat-label>
        <mat-label>{{ additionalContact?.department }}</mat-label>
      </div>

      <div class="summary-item">
        <mat-label class="drr-label">{{ t("phone") }}</mat-label>
        <mat-label>{{
          additionalContact?.phone! | mask : "000-000-0000"
        }}</mat-label>
      </div>

      <div class="summary-item">
        <mat-label class="drr-label">{{ t("email") }}</mat-label>
        <mat-label>{{ additionalContact?.email }}</mat-label>
      </div>
    </div>
  </div>

  <div
    *ngIf="
      arrayHasValues(
        eoiApplicationForm
          .get('proponentInformation')
          ?.get('partneringProponents')?.value
      )
    "
  >
    <mat-label class="drr-label">{{
      t("partneringProponentsSummary")
    }}</mat-label>
    <div
      class="summary-row"
      *ngFor="
        let proponent of getFormArray(
          'proponentInformation',
          'partneringProponents'
        );
        let i = index
      "
    >
      <div *ngIf="proponent" class="summary-item">
        <mat-label>{{ proponent }}</mat-label>
      </div>
    </div>
  </div>

  <div
    class="summary-item"
    *ngIf="eoiApplicationForm.get('projectInformation')?.get('fundingStream')"
  >
    <mat-label class="drr-label">{{ t("fundingStream") }}</mat-label>
    <mat-label>{{
      t(
        eoiApplicationForm.get("projectInformation")?.get("fundingStream")
          ?.value
      )
    }}</mat-label>
  </div>

  <div
    class="summary-item"
    *ngIf="eoiApplicationForm.get('projectInformation')?.get('projectTitle')"
  >
    <mat-label class="drr-label">{{ t("projectTitle") }}</mat-label>
    <mat-label>{{
      eoiApplicationForm.get("projectInformation")?.get("projectTitle")?.value
    }}</mat-label>
  </div>

  <div
    class="summary-item"
    *ngIf="eoiApplicationForm.get('projectInformation')?.get('scopeStatement')"
  >
    <mat-label class="drr-label">{{ t("scopeStatement") }}</mat-label>
    <mat-label>{{
      eoiApplicationForm.get("projectInformation")?.get("scopeStatement")?.value
    }}</mat-label>
  </div>

  <div
    class="summary-item"
    *ngIf="eoiApplicationForm.get('projectInformation')?.get('projectType')"
  >
    <mat-label class="drr-label">{{ t("projectType") }}</mat-label>
    <mat-label>{{
      t(eoiApplicationForm.get("projectInformation")?.get("projectType")?.value)
    }}</mat-label>
  </div>

  <div
    class="summary-item"
    *ngIf="
      eoiApplicationForm.get('projectInformation')?.get('relatedHazards')?.value
        ?.length
    "
  >
    <mat-label class="drr-label">{{ t("relatedHazards") }}</mat-label>
    <mat-label>
      <ng-container
        *ngFor="
          let hazard of eoiApplicationForm
            .get('projectInformation')
            ?.get('relatedHazards')?.value;
          let i = index
        "
      >
        {{ t(hazard)
        }}{{
          i !==
          eoiApplicationForm.get("projectInformation")?.get("relatedHazards")
            ?.value.length -
            1
            ? ", "
            : ""
        }}
      </ng-container>
    </mat-label>
    <mat-label
      *ngIf="
        eoiApplicationForm
          .get('projectInformation')
          ?.get('otherHazardsDescription')
      "
    >
      <mat-label class="drr-label">{{ t("other") }}:</mat-label>
      {{
        eoiApplicationForm
          .get("projectInformation")
          ?.get("otherHazardsDescription")?.value
      }}
    </mat-label>
  </div>

  <div
    class="summary-item"
    *ngIf="eoiApplicationForm.get('projectInformation')?.get('startDate')"
  >
    <mat-label class="drr-label">{{ t("startDate") }}</mat-label>
    <mat-label>{{
      eoiApplicationForm.get("projectInformation")?.get("startDate")?.value
        | date : "YYYY-MM-dd"
    }}</mat-label>
  </div>

  <div
    class="summary-item"
    *ngIf="eoiApplicationForm.get('projectInformation')?.get('endDate')"
  >
    <mat-label class="drr-label">{{ t("endDate") }}</mat-label>
    <mat-label>{{
      eoiApplicationForm.get("projectInformation")?.get("endDate")?.value
        | date : "YYYY-MM-dd"
    }}</mat-label>
  </div>

  <div
    class="summary-item"
    *ngIf="eoiApplicationForm.get('fundingInformation')?.get('estimatedTotal')"
  >
    <mat-label class="drr-label">{{ t("estimatedTotal") }}</mat-label>
    <mat-label>{{
      eoiApplicationForm.get("fundingInformation")?.get("estimatedTotal")?.value
        | currency
    }}</mat-label>
  </div>

  <div
    class="summary-item"
    *ngIf="eoiApplicationForm.get('fundingInformation')?.get('fundingRequest')"
  >
    <mat-label class="drr-label">{{ t("fundingRequest") }}</mat-label>
    <mat-label>{{
      eoiApplicationForm.get("fundingInformation")?.get("fundingRequest")?.value
        | currency
    }}</mat-label>
  </div>

  <div
    *ngIf="
      arrayHasValues(
        eoiApplicationForm.get('fundingInformation')?.get('otherFunding')?.value
      )
    "
  >
    <mat-label class="drr-label">{{ t("otherFundingSources") }}</mat-label>
    <div
      class="summary-row"
      *ngFor="
        let funding of eoiApplicationForm
          .get('fundingInformation')
          ?.get('otherFunding')?.value
      "
    >
      <div class="summary-item">
        <mat-label class="drr-label">{{
          t("otherFundingSourcesAmount")
        }}</mat-label>
        <mat-label>{{ funding?.amount | currency }}</mat-label>
      </div>

      <div class="summary-item">
        <mat-label class="drr-label">{{
          t("otherFundingSourcesName")
        }}</mat-label>
        <mat-label>{{ funding?.name }}</mat-label>
      </div>

      <div class="summary-item">
        <mat-label class="drr-label">{{
          t("otherFundingSourcesType")
        }}</mat-label>
        <mat-label>{{ t(funding?.type!) }}</mat-label>
      </div>

      <div *ngIf="funding?.otherDescription" class="summary-item">
        <mat-label class="drr-label">{{
          t("otherFundingSourcesDescription")
        }}</mat-label>
        <mat-label>{{ funding?.otherDescription }}</mat-label>
      </div>
    </div>
  </div>

  <div
    class="summary-item"
    *ngIf="
      eoiApplicationForm.get('fundingInformation')?.get('remainingAmount') !=
        undefined &&
      eoiApplicationForm.get('fundingInformation')?.get('remainingAmount') !=
        null
    "
    [style.color]="
      eoiApplicationForm.get('fundingInformation')?.get('remainingAmount')
        ?.value < 0
        ? 'red'
        : 'initial'
    "
  >
    <mat-label class="drr-label">{{
      eoiApplicationForm.get("fundingInformation")?.get("remainingAmount")
        ?.value <= 0
        ? t("excessFundingLabel")
        : t("remainingAmount")
    }}</mat-label>
    <mat-label>{{ getRemainingAmountAbs() | currency }}</mat-label>
  </div>

  <div
    class="summary-item"
    *ngIf="
      eoiApplicationForm.get('fundingInformation')?.get('intendToSecureFunding')
    "
  >
    <mat-label class="drr-label">{{ t("intendToSecureFunding") }}</mat-label>
    <mat-label>{{
      eoiApplicationForm.get("fundingInformation")?.get("intendToSecureFunding")
        ?.value
    }}</mat-label>
  </div>

  <div
    class="summary-item"
    *ngIf="
      eoiApplicationForm
        .get('locationInformation')
        ?.get('ownershipDeclaration') != undefined
    "
  >
    <mat-label class="drr-label">{{ t("ownershipDeclaration") }}</mat-label>
    <mat-label>{{
      eoiApplicationForm.get("locationInformation")?.get("ownershipDeclaration")
        ?.value
        ? "Yes"
        : "No"
    }}</mat-label>

    <div
      class="summary-item"
      *ngIf="
        eoiApplicationForm
          .get('locationInformation')
          ?.get('ownershipDescription')
      "
    >
      <mat-label>{{
        eoiApplicationForm
          .get("locationInformation")
          ?.get("ownershipDescription")?.value
      }}</mat-label>
    </div>
  </div>

  <div class="summary-item">
    <mat-label
      *ngIf="
        eoiApplicationForm
          .get('locationInformation')
          ?.get('locationDescription')
      "
      class="drr-label"
      >{{ t("locationDescription") }}</mat-label
    >
    <mat-label>{{
      eoiApplicationForm.get("locationInformation")?.get("locationDescription")
        ?.value
    }}</mat-label>
  </div>

  <div
    class="summary-item"
    *ngIf="eoiApplicationForm.get('projectDetails')?.get('rationaleForFunding')"
  >
    <mat-label class="drr-label">{{ t("rationaleForFunding") }}</mat-label>
    <mat-label>{{
      eoiApplicationForm.get("projectDetails")?.get("rationaleForFunding")
        ?.value
    }}</mat-label>
  </div>

  <div
    class="summary-item"
    *ngIf="
      eoiApplicationForm.get('projectDetails')?.get('estimatedPeopleImpacted')
    "
  >
    <mat-label class="drr-label">{{ t("estimatedPeopleImpacted") }}</mat-label>
    <mat-label>{{
      eoiApplicationForm.get("projectDetails")?.get("estimatedPeopleImpacted")
        ?.value
    }}</mat-label>
  </div>
  <div
    class="summary-item"
    *ngIf="eoiApplicationForm.get('projectDetails')?.get('communityImpact')"
  >
    <mat-label class="drr-label">{{ t("communityImpact") }}</mat-label>
    <mat-label>{{
      eoiApplicationForm.get("projectDetails")?.get("communityImpact")?.value
    }}</mat-label>
  </div>

  <div
    class="summary-item"
    *ngIf="
      eoiApplicationForm.get('projectDetails')?.get('infrastructureImpacted')
        ?.value?.length
    "
  >
    <mat-label class="drr-label">{{ t("infrastructureImpacted") }}</mat-label>
    <mat-label>{{
      eoiApplicationForm
        .get("projectDetails")
        ?.get("infrastructureImpacted")
        ?.value?.join(", ")
    }}</mat-label>
  </div>
  <div
    class="summary-item"
    *ngIf="
      eoiApplicationForm.get('projectDetails')?.get('disasterRiskUnderstanding')
    "
  >
    <mat-label class="drr-label">{{
      t("disasterRiskUnderstanding")
    }}</mat-label>
    <mat-label>{{
      eoiApplicationForm.get("projectDetails")?.get("disasterRiskUnderstanding")
        ?.value
    }}</mat-label>
  </div>
  <div
    class="summary-item"
    *ngIf="
      eoiApplicationForm
        .get('projectDetails')
        ?.get('additionalBackgroundInformation')
    "
  >
    <mat-label class="drr-label">{{
      t("additionalBackgroundInformation")
    }}</mat-label>
    <mat-label>{{
      eoiApplicationForm
        .get("projectDetails")
        ?.get("additionalBackgroundInformation")?.value
    }}</mat-label>
  </div>

  <div
    class="summary-item"
    *ngIf="
      eoiApplicationForm.get('projectDetails')?.get('addressRisksAndHazards')
    "
  >
    <mat-label class="drr-label">{{ t("addressRisksAndHazards") }}</mat-label>
    <mat-label>{{
      eoiApplicationForm.get("projectDetails")?.get("addressRisksAndHazards")
        ?.value
    }}</mat-label>
  </div>

  <div
    class="summary-item"
    *ngIf="
      eoiApplicationForm.get('projectDetails')?.get('drifProgramGoalAlignment')
    "
  >
    <mat-label class="drr-label">{{ t("drifProgramGoalAlignment") }}</mat-label>
    <mat-label>{{
      eoiApplicationForm.get("projectDetails")?.get("drifProgramGoalAlignment")
        ?.value
    }}</mat-label>
  </div>

  <div
    class="summary-item"
    *ngIf="
      eoiApplicationForm
        .get('projectDetails')
        ?.get('additionalSolutionInformation')
    "
  >
    <mat-label class="drr-label">{{
      t("additionalSolutionInformation")
    }}</mat-label>
    <mat-label>{{
      eoiApplicationForm
        .get("projectDetails")
        ?.get("additionalSolutionInformation")?.value
    }}</mat-label>
  </div>

  <div
    class="summary-item"
    *ngIf="
      eoiApplicationForm.get('projectDetails')?.get('rationaleForSolution')
    "
  >
    <mat-label class="drr-label">{{ t("rationaleForSolutionText") }}</mat-label>
    <mat-label>{{
      eoiApplicationForm.get("projectDetails")?.get("rationaleForSolution")
        ?.value
    }}</mat-label>
  </div>

  <div
    class="summary-item"
    *ngIf="
      eoiApplicationForm.get('engagementPlan')?.get('firstNationsEngagement')
    "
  >
    <mat-label class="drr-label">{{ t("firstNationsEngagement") }}</mat-label>
    <mat-label>{{
      eoiApplicationForm.get("engagementPlan")?.get("firstNationsEngagement")
        ?.value
    }}</mat-label>
  </div>
  <div
    class="summary-item"
    *ngIf="eoiApplicationForm.get('engagementPlan')?.get('neighbourEngagement')"
  >
    <mat-label class="drr-label">{{ t("neighbourEngagement") }}</mat-label>
    <mat-label>{{
      eoiApplicationForm.get("engagementPlan")?.get("neighbourEngagement")
        ?.value
    }}</mat-label>
  </div>
  <div
    class="summary-item"
    *ngIf="
      eoiApplicationForm
        .get('engagementPlan')
        ?.get('additionalEngagementInformation')
    "
  >
    <mat-label class="drr-label">{{
      t("additionalEngagementInformation")
    }}</mat-label>
    <mat-label>{{
      eoiApplicationForm
        .get("engagementPlan")
        ?.get("additionalEngagementInformation")?.value
    }}</mat-label>
  </div>

  <div
    class="summary-item"
    *ngIf="
      eoiApplicationForm
        .get('otherSupportingInformation')
        ?.get('climateAdaptation')
    "
  >
    <mat-label class="drr-label">{{ t("climateAdaptationText") }}</mat-label>
    <mat-label>{{
      eoiApplicationForm
        .get("otherSupportingInformation")
        ?.get("climateAdaptation")?.value
    }}</mat-label>
  </div>

  <div
    class="summary-item"
    *ngIf="
      eoiApplicationForm
        .get('otherSupportingInformation')
        ?.get('otherInformation')
    "
  >
    <mat-label class="drr-label">{{ t("otherInformationText") }}</mat-label>
    <mat-label>{{
      eoiApplicationForm
        .get("otherSupportingInformation")
        ?.get("otherInformation")?.value
    }}</mat-label>
  </div>
</div>
