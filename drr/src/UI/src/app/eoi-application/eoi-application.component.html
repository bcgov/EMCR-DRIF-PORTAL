<div class="app-stepper-container" *transloco="let t">
  <h1>{{ t("header") }}</h1>

  <mat-stepper
    class="app-stepper"
    [linear]="true"
    labelPosition="bottom"
    #stepper
  >
    <mat-step [label]="t('step1')">
      <drr-step-1 [eoiApplicationForm]="eoiApplicationForm"></drr-step-1>
      <div class="drr-stepper-action">
        <button
          id="next1"
          mat-flat-button
          color="primary"
          (click)="validateStep1()"
        >
          {{ t("next") }}
        </button>
      </div>
    </mat-step>
    <mat-step [label]="t('step2')">
      <drr-step-2 [eoiApplicationForm]="eoiApplicationForm"></drr-step-2>
      <div class="drr-stepper-actions">
        <button mat-stroked-button color="primary" matStepperPrevious>
          {{ t("back") }}
        </button>
        <button
          id="next2"
          mat-flat-button
          color="primary"
          (click)="validateStep2()"
        >
          {{ t("next") }}
        </button>
      </div>
    </mat-step>
    <mat-step [label]="t('step3')">
      <drr-step-3 [eoiApplicationForm]="eoiApplicationForm"></drr-step-3>
      <div class="drr-stepper-actions">
        <button mat-stroked-button color="primary" matStepperPrevious>
          {{ t("back") }}
        </button>
        <button
          id="next3"
          mat-flat-button
          color="primary"
          (click)="validateStep3()"
        >
          {{ t("next") }}
        </button>
      </div>
    </mat-step>
    <mat-step [label]="t('step4')">
      <drr-step-4 [eoiApplicationForm]="eoiApplicationForm"></drr-step-4>
      <div class="drr-stepper-actions">
        <button mat-stroked-button color="primary" matStepperPrevious>
          {{ t("back") }}
        </button>
        <button
          id="next4"
          mat-flat-button
          color="primary"
          (click)="validateStep4()"
        >
          {{ t("next") }}
        </button>
      </div>
    </mat-step>
    <mat-step [label]="t('step5')">
      <drr-step-5 [eoiApplicationForm]="eoiApplicationForm"></drr-step-5>
      <div class="drr-stepper-actions">
        <button mat-stroked-button color="primary" matStepperPrevious>
          {{ t("back") }}
        </button>
        <button
          id="next5"
          mat-flat-button
          color="primary"
          (click)="validateStep5()"
        >
          {{ t("next") }}
        </button>
      </div>
    </mat-step>
    <mat-step [label]="t('step6')">
      <drr-step-6 [eoiApplicationForm]="eoiApplicationForm"></drr-step-6>
      <div class="drr-stepper-actions">
        <button mat-stroked-button color="primary" matStepperPrevious>
          {{ t("back") }}
        </button>
        <button
          id="next6"
          mat-flat-button
          color="primary"
          (click)="validateStep6()"
        >
          {{ t("next") }}
        </button>
      </div>
    </mat-step>
    <mat-step [label]="t('step7')">
      <drr-step-7 [eoiApplicationForm]="eoiApplicationForm"></drr-step-7>
      <div class="drr-stepper-actions">
        <button mat-stroked-button color="primary" matStepperPrevious>
          {{ t("back") }}
        </button>
        <button
          id="next7"
          mat-flat-button
          color="primary"
          (click)="validateStep7()"
        >
          {{ t("next") }}
        </button>
      </div>
    </mat-step>
    <mat-step [label]="t('step8')">
      <drr-step-8 [eoiApplicationForm]="eoiApplicationForm"></drr-step-8>
      <div class="drr-stepper-actions">
        <button mat-stroked-button color="primary" matStepperPrevious>
          {{ t("back") }}
        </button>
        <button
          id="submit"
          mat-flat-button
          color="primary"
          (click)="validateStep8()"
        >
          {{ t("submit") }}
        </button>
      </div>
    </mat-step>
  </mat-stepper>

  <div *ngIf="eoiApplicationForm.value && isDevMode">
    FYI doesn't reflect arrayForm values, buy they are populated properly
    <pre>{{ eoiApplicationForm.value | json }}</pre>
  </div>
</div>
